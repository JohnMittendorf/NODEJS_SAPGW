/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
jQuery.sap.declare("jquery.sap.resources");jQuery.sap.require("jquery.sap.properties");(function(){var r=/^((?:[A-Z]{2,3}(?:-[A-Z]{3}){0,3})|[A-Z]{4}|[A-Z]{5,8})(?:-([A-Z]{4}))?(?:-([A-Z]{2}|[0-9]{3}))?(-[0-9A-Z]{5,8}|(?:[0-9][0-9A-Z]{3}))*(?:-([0-9A-WYZ](?:-[0-9A-Z]{2,8})+))*(?:-(X(?:-[0-9A-Z]{1,8})+))?$/i;var M={"he":"iw","yi":"ji","id":"in","sr":"sh"};function n(s){var m;if(typeof s==='string'&&(m=r.exec(s.replace(/_/g,'-')))){var b=m[1].toLowerCase();b=M[b]||b;return b+(m[3]?"_"+m[3].toUpperCase()+(m[4]?"_"+m[4].slice(1).replace("-","_"):""):"");}}var B=function(u,s,i){this.sLocale=n(s)||"en";this.sUrl=u;this.bIncludeInfo=i;this.aPropertyFiles=[];this.aLocales=[];l(this,this.sLocale);};B.prototype={};B.prototype.getText=function(k,b){var v=null;for(var i=0;i<this.aPropertyFiles.length;i++){v=this.aPropertyFiles[i].getProperty(k);if(v){break;}}if(!v){var t=this.aLocales[0];while(t.length>0){if(t=="zh_HK"){t="zh_TW";}else{if(t.length>2){t=t.substring(0,2);}else if(t!="en"){t="en";}else{t="";}}var p=l(this,t);if(p==null){continue;}v=p.getProperty(k);if(v){break;}}}if(!v){v=k;}if(b){for(var c=0;c<b.length;c++){v=v.replace("{"+c+"}",b[c]);}}if(this.bIncludeInfo){v=new String(v);v.originInfo={source:"Resource Bundle",url:this.sUrl,locale:this.sLocale,key:k};}return v;};function l(b,s){if(jQuery.inArray(s,b.aLocales)==-1){var t=b.sUrl;if(s){t=t.replace(".properties","_"+s+".properties");}var p=jQuery.sap.properties({url:t});b.aPropertyFiles.push(p);b.aLocales.push(s);return p;}return null;}jQuery.sap.resources=function a(p){p=jQuery.extend({url:"",locale:undefined,includeInfo:false},p);var b=new B(p.url,p.locale,p.includeInfo);return b;};}());
