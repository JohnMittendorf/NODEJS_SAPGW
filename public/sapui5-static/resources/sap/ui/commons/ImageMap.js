/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.commons.ImageMap");jQuery.sap.require("sap.ui.commons.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ui.commons.ImageMap",{metadata:{publicMethods:["createArea"],library:"sap.ui.commons",properties:{"name":{type:"string",group:"Misc",defaultValue:null}},aggregations:{"areas":{type:"sap.ui.commons.Area",multiple:true,singularName:"area"}},events:{"press":{}}}});sap.ui.commons.ImageMap.M_EVENTS={'press':'press'};jQuery.sap.require("sap.ui.core.delegate.ItemNavigation");
sap.ui.commons.ImageMap.prototype.createArea=function(){var a=new sap.ui.commons.Area();for(var i=0;i<arguments.length;i++){var c=arguments[i];var a;if(c instanceof sap.ui.commons.Area){a=c;}else{a=new sap.ui.commons.Area(c);}this.addArea(a);}return this;};
sap.ui.commons.ImageMap.prototype.onAfterRendering=function(){this.oDomRef=this.getDomRef();if(!this.oItemNavigation){this.oItemNavigation=new sap.ui.core.delegate.ItemNavigation();if(jQuery.browser.msie){var t=this;var a=[];this.oItemNavigation.setTabIndex0();var $=jQuery("img[useMap=#"+this.getName()+"]");$.each(function(i,e){var f=e.getAttribute("id");var g=sap.ui.getCore().byId(f);g.addDelegate(t.oItemNavigation);t.oItemNavigation.setRootDomRef(e);a.push(g);});this.aImageControls=a;}else{this.addDelegate(this.oItemNavigation);this.oItemNavigation.setRootDomRef(this.oDomRef);}}var b=[];var c=this.getAreas();for(var i=0;i<c.length;i++){var d=c[i].getFocusDomRef();if(d){b.push(d);}}this.oItemNavigation.setItemDomRefs(b);this.oItemNavigation.setCycling(true);this.oItemNavigation.setSelectedIndex(-1);this.oItemNavigation.setFocusedIndex(-1);};
sap.ui.commons.ImageMap.prototype.exit=function(){if(this.oItemNavigation){if(jQuery.browser.msie){for(var i=0;i<this.aImageControls.length;i++){this.aImageControls[i].removeDelegate(this.oItemNavigation);}}else{this.removeDelegate(this.oItemNavigation);}this.oItemNavigation.destroy();}};
